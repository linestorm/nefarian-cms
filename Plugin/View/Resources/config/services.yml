parameters:
  nefarian.plugins.content_management.doctrine.node_listener.class:  Nefarian\CmsBundle\Plugin\ContentManagement\Doctrine\EventListener\NodeEventListener
  nefarian.plugin.view.view_manager.class: Nefarian\CmsBundle\Plugin\View\ViewManager
  nefarian.plugin.view.view_form_builder.class: Nefarian\CmsBundle\Plugin\View\View\ViewFormBuilder

#  nefarian.plugins.content_management.form.type.field_collection.class: Nefarian\CmsBundle\Plugin\ContentManagement\Form\Type\FieldCollectionType


services:
  nefarian.plugin.view:
    class: Nefarian\CmsBundle\Plugin\View\ViewPlugin
    tags:
      - { name: nefarian.plugin }


  #
  # View Manager
  nefarian.plugin.view.view_manager:
    class: %nefarian.plugin.view.view_manager.class%
    arguments: [@doctrine.orm.default_entity_manager, @nefarian.plugin.view.view_form_builder]

  nefarian.plugin.view.view_form_builder:
    class: %nefarian.plugin.view.view_form_builder.class%
    public: false


  #
  # Doctrine - Map node listener
#  nefarian.plugins.content_management.doctrine.node_listener:
#    class: %nefarian.plugins.content_management.doctrine.node_listener.class%
#    arguments:
#      - @security.context
#    tags:
#      - { name: doctrine.event_subscriber }


  #
  # Forms - field collection
#  nefarian.plugins.content_management.form.type.field_collection:
#    class: %nefarian.plugins.content_management.form.type.field_collection.class%
#    arguments:
#        - @nefarian_core.content_field_manager
#    tags:
#        - { name: form.type, alias: field_collection }
